import{a as L}from"./chunk-BOH52QST.js";import{a as P}from"./chunk-TXXZHHRC.js";import{a as T}from"./chunk-DZQGWMRM.js";import"./chunk-ELXQ6ALC.js";import{e as E}from"./chunk-PZXQOTNQ.js";import"./chunk-U5YLW2ZZ.js";import"./chunk-X3M3N6ZJ.js";import"./chunk-RFCIZRZT.js";import"./chunk-5LHHFRH4.js";import{n as y}from"./chunk-FTR46PKS.js";import{$a as g,$b as l,Cb as S,Hb as t,I as x,Ib as i,Jb as m,Ob as v,Pb as h,Xa as b,Za as a,Zb as d,cb as c,db as w,dc as k,ib as C,kb as _,nb as p,xa as f,yb as s}from"./chunk-LZBM4COA.js";var u=class e{constructor(o,r){this.templateRef=o;this.viewContainer=r}set appOffer(o){this.viewContainer.clear(),o>=10&&this.viewContainer.createEmbeddedView(this.templateRef)}static \u0275fac=function(r){return new(r||e)(c(g),c(w))};static \u0275dir=_({type:e,selectors:[["","appOffer",""]],inputs:{appOffer:"appOffer"}})};var R=e=>["/product-view",e];function O(e,o){if(e&1&&(t(0,"div",17)(1,"span",18),d(2),i()()),e&2){let r=h();a(2),l(" -",r.product.offer,"% ")}}function V(e,o){if(e&1&&m(0,"img",3),e&2){let r=h();s("src",r.product.imageUrl[0],b)("alt",r.product.name)}}function F(e,o){e&1&&(f(),t(0,"svg",4),m(1,"path",19),i())}function M(e,o){e&1&&(t(0,"div")(1,"button",20),f(),t(2,"svg",21),m(3,"path",22),i()()())}var I=class e{constructor(o,r){this.cartService=o;this.wishListService=r}product;loading=!1;addToCart(){this.loading=!0,this.cartService.addToCart(this.product._id).pipe(x(1)).subscribe({next:()=>{this.loading=!1},error:()=>{this.loading=!1}})}addToWishList(){this.wishListService.addProduct(this.product._id).subscribe({next:()=>{console.log("Producto agregado a wishlist")},error:o=>{console.error("Error al agregar producto:",o)}})}static \u0275fac=function(r){return new(r||e)(c(T),c(P))};static \u0275cmp=C({type:e,selectors:[["app-products-card"]],inputs:{product:"product"},decls:26,vars:11,consts:[[1,"relative","rounded-xl","overflow-hidden","bg-[#0d0d0d]","border","border-red-700","shadow-[0_0_15px_rgba(255,0,0,0.25)]","hover:shadow-[0_0_25px_rgba(255,0,0,0.55)]","transition-all","duration-300"],["class","absolute",4,"appOffer"],[1,"aspect-square","bg-black","flex","items-center","justify-center","overflow-hidden"],[1,"w-full","h-full","object-cover","transition-transform","duration-300","hover:scale-105",3,"src","alt"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-red-500","opacity-50"],[1,"p-4","text-white"],[1,"text-xs","text-red-400","font-medium","line-clamp-1","cursor-pointer"],[1,"font-semibold","text-lg","text-white","mt-1","mb-2","line-clamp-1"],[1,"text-gray-300","text-sm","mb-3","line-clamp-2"],[1,"mb-4","flex","items-center","justify-between"],[1,"text-xl","font-bold","text-red-400"],[1,"text-xs","text-gray-400","mt-1"],[1,"p-2","rounded-full","bg-red-600","text-white","shadow-md","hover:bg-red-500","hover:scale-110","transition-all","duration-200",3,"click"],[1,"flex","gap-2","items-center"],[1,"flex-1","bg-red-700","text-white","py-2","px-4","rounded-md","font-semibold","hover:bg-red-600","transition-all","duration-200","hover:scale-105","shadow-[0_0_10px_rgba(255,0,0,0.4)]",3,"routerLink"],[1,"px-4","py-2","rounded-md","text-white","transition-all","shadow-[0_0_10px_rgba(0,0,0,0.4)]","disabled:bg-gray-600","disabled:text-gray-300","bg-green-700","hover:bg-green-600","hover:scale-110",3,"click","disabled"],[4,"appAdmin"],[1,"absolute"],[1,"rounded-full","p-4","bg-red-500","text-white","text-sm","absolute","top-0","left-0","z-50","font-bold"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"absolute","top-3","right-3","p-2","bg-yellow-500","text-black","rounded-full","shadow-md","hover:shadow-lg","hover:bg-yellow-400","hover:scale-110","transition-all","duration-200"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","d","m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"]],template:function(r,n){r&1&&(t(0,"div",0),p(1,O,3,1,"div",1),t(2,"div",2),p(3,V,1,2,"img",3)(4,F,2,0,":svg:svg",4),i(),t(5,"div",5)(6,"a",6),d(7),i(),t(8,"h3",7),d(9),i(),t(10,"p",8),d(11),i(),t(12,"div",9)(13,"div")(14,"span",10),d(15),i(),t(16,"div",11),d(17),i()(),t(18,"button",12),v("click",function(){return n.addToWishList()}),d(19," \u2764\uFE0F "),i()(),t(20,"div",13)(21,"a",14),d(22," + Detalles "),i(),t(23,"button",15),v("click",function(){return n.addToCart()}),d(24," \u{1F6D2} "),i(),p(25,M,4,0,"div",16),i()()()),r&2&&(a(),s("appOffer",n.product.offer),a(2),S(n.product.imageUrl?3:4),a(4),l(" ",n.product.category.name," "),a(2),l(" ",n.product.name," "),a(2),l(" ",n.product.description," "),a(4),l(" $ ",n.product.price," "),a(2),l(" Stock: ",n.product.stock," "),a(4),s("routerLink",k(9,R,n.product._id)),a(2),s("disabled",n.product.stock===0||n.loading))},dependencies:[E,y,L,u],encapsulation:2})};export{I as ProductsCardComponent};
