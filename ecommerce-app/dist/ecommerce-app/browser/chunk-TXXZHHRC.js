import{a as r}from"./chunk-U5YLW2ZZ.js";import{a as d}from"./chunk-X3M3N6ZJ.js";import{Gc as c,ea as p,ka as n,v as o}from"./chunk-LZBM4COA.js";var l=r.object({_id:r.string(),name:r.string(),price:r.number().optional(),image:r.string().optional(),description:r.string().optional()}),u=r.object({product:l,addedAt:r.string().datetime().optional().default(()=>new Date().toISOString()),isDefault:r.boolean(),isActive:r.boolean()}),s=r.object({_id:r.string().min(1,"El ID es requerido"),user:r.string().min(1,"El usuario es requerido"),products:r.array(u).default([])}),f=r.array(s),L=s.omit({_id:!0}),W=s.partial().required({_id:!0});var h=class a{http=n(c);baseUrl=`${d.BACK_URL}/wishlist`;getWishList(){return this.http.get(`${this.baseUrl}`).pipe(o(e=>{let t=s.safeParse(e);if(!t.success)throw console.error("Error validando wishlist:",t.error),new Error("Error parsing WishList data");return t.data}))}addProduct(e){return this.http.post(`${this.baseUrl}/add`,{productId:e}).pipe(o(t=>{let i=s.safeParse(t);if(!i.success)throw console.error("Error validando respuesta al agregar producto:",i.error),new Error("Error parsing WishList data");return i.data}))}removeProduct(e){return this.http.delete(`${this.baseUrl}/remove/${e}`).pipe(o(t=>{let i=s.safeParse(t);if(!i.success)throw console.error("Error validando respuesta al eliminar producto:",i.error),new Error("Error parsing WishList data");return i.data}))}clearWishList(){return this.http.delete(`${this.baseUrl}/clear`).pipe(o(e=>{let t=s.safeParse(e);if(!t.success)throw console.error("Error validando respuesta al limpiar wishlist:",t.error),new Error("Error parsing WishList data");return t.data}))}static \u0275fac=function(t){return new(t||a)};static \u0275prov=p({token:a,factory:a.\u0275fac,providedIn:"root"})};export{h as a};
