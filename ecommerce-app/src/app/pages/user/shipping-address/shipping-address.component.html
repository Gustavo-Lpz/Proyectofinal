<div class="bg-white text-black shadow-lg rounded-xl p-6 border border-red-700">
  <h2 class="text-2xl font-bold mb-6 text-red-500">Dirección de Envío</h2>

  <form [formGroup]="addressForm" (ngSubmit)="onSubmit()" class="space-y-5">

    <!-- Nombre -->
    <app-form-field
      label="Nombre Completo"
      fieldId="name"
      type="text"
      placeholder="Juan Pérez"
      [required]="true"
      class="text-black"
      formControlName="name">
    </app-form-field>

    <!-- Dirección -->
    <app-form-field
      label="Dirección"
      fieldId="address"
      type="text"
      placeholder="Calle 123, Colonia Centro"
      [required]="true"
      class="text-black"
      formControlName="address">
    </app-form-field>

    <!-- Ciudad -->
    <app-form-field
      label="Ciudad"
      fieldId="city"
      type="text"
      placeholder="Ciudad de México"
      [required]="true"
      class="text-black"
      formControlName="city">
    </app-form-field>

    <!-- Estado -->
    <app-form-field
      label="Estado"
      fieldId="state"
      type="text"
      placeholder="CDMX"
      [required]="true"
      class="text-black"
      formControlName="state">
    </app-form-field>

    <!-- Código Postal -->
    <app-form-field
      label="Código Postal"
      fieldId="postalCode"
      type="text"
      placeholder="12345"
      [required]="true"
      class="text-black"
      formControlName="postalCode">
    </app-form-field>

    <!-- País -->
    <app-form-field
      label="País"
      fieldId="country"
      type="text"
      placeholder="México"
      [required]="true"
      class="text-black"
      formControlName="country">
    </app-form-field>

    <!-- Teléfono -->
    <app-form-field
      label="Teléfono"
      fieldId="phone"
      type="text"
      placeholder="55 1234 5678"
      [required]="true"
      class="text-black"
      formControlName="phone">
    </app-form-field>

    <!-- Tipo de dirección -->
    <div>
      <label class="block text-sm font-semibold text-red-400 mb-2">
        Tipo de Dirección *
      </label>

      <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">

        <!-- Casa -->
        <label class="flex items-center gap-2 cursor-pointer p-3 border rounded-lg 
                       border-red-600 bg-gray-900 hover:bg-red-700 transition">
          <input type="radio" formControlName="addressType" value="home" />
          <span class="text-white">Casa</span>
        </label>

        <!-- Trabajo -->
        <label class="flex items-center gap-2 cursor-pointer p-3 border rounded-lg 
                       border-red-600 bg-gray-900 hover:bg-red-700 transition">
          <input type="radio" formControlName="addressType" value="work" />
          <span class="text-white">Trabajo</span>
        </label>

        <!-- Otro -->
        <label class="flex items-center gap-2 cursor-pointer p-3 border rounded-lg 
                       border-red-600 bg-gray-900 hover:bg-red-700 transition">
          <input type="radio" formControlName="addressType" value="other" />
          <span class="text-white">Otro</span>
        </label>

      </div>

      @if (getFieldError('addressType')) {
        <p class="mt-1 text-sm text-red-500">{{ getFieldError('addressType') }}</p>
      }
    </div>

    <!-- Dirección por defecto -->
    <div class="flex items-center gap-3 mt-4">
      <input type="checkbox" formControlName="isDefault" class="accent-red-600" />
      <label class="text-sm text-gray-300">Usar como dirección predeterminada</label>
    </div>

    <!-- Submit -->
    <button
      type="submit"
      [disabled]="!addressForm.valid"
      class="w-full py-3 rounded-lg font-bold transition
             bg-red-600 text-white hover:bg-red-700
             disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed">
      {{ isEditMode ? 'Actualizar dirección' : 'Agregar dirección' }}
    </button>
  </form>
</div>
